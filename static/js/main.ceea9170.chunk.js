(this["webpackJsonpwhere-is-waldo"]=this["webpackJsonpwhere-is-waldo"]||[]).push([[0],{64:function(e,t,n){},67:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),i=(n(67),n(1)),s=n.n(i),l=n(6),d=n(11),u=n(94),h=n(87),j=n(3),b=function(e){var t={position:"absolute",left:"".concat(e.clickedCoordinates[0]-81,"px"),top:"".concat(e.clickedCoordinates[1]+e.dropdownY,"px"),zIndex:1031,width:"170px"},n={height:"25px"};return Object(j.jsxs)(u.a,{style:t,className:"charactersDropdown",children:[e.charactersArray&&e.charactersArray.map((function(t,a){return Object(j.jsxs)(u.a.Item,{action:!0,onClick:function(){return function(t){e.showFoundCharacter||(e.foundIsCorrect(t)?(e.addFoundSquare(e.clickedCoordinates[0],e.clickedCoordinates[1]+100),e.handleFoundCharacter(t,e.checkGameOver)):e.toggleShowWrongFind()),e.closeFoundCharacter()}(t)},children:[Object(j.jsx)(h.a,{style:n,src:"/where-is-waldo"+t.url}),t.name]},a)})),Object(j.jsx)(u.a.Item,{action:!0,variant:"dark",onClick:e.closeFoundCharacter,children:"Close"})]})},f=n.p+"static/media/picture.a621ccfd.jpg",m=n(90),O=n(88),g=function(e){return Object(j.jsxs)(m.a,{show:e.showWrongFind,size:"sm",onHide:e.toggleShowWrongFind,centered:!0,children:[Object(j.jsx)(m.a.Header,{closeButton:!0,children:Object(j.jsx)(m.a.Title,{children:"Nope!"})}),Object(j.jsx)(m.a.Body,{children:"Keep looking..."}),Object(j.jsx)(m.a.Footer,{children:Object(j.jsx)(O.a,{variant:"primary",onClick:e.toggleShowWrongFind,children:"Continue"})})]})};n(64);var p=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(d.a)(o,2),s=i[0],l=i[1],u=Object(a.useState)([0,0]),m=Object(d.a)(u,2),O=m[0],p=m[1],w=Object(a.useState)(-140),x=Object(d.a)(w,2),v=x[0],S=x[1],y=function(){l(!s)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h.a,{onClick:function(t){var n=t.pageX,a=t.pageY-100,o=a+100;p([n,a]),S(function(t){return t>e.windowHeight-260?-165:105}(o)),c(!r)},src:f,className:"picture",onLoad:e.setWindowSize}),r&&Object(j.jsx)(b,{dropdownY:v,clickedCoordinates:O,charactersArray:e.charactersArray,handleFoundCharacter:e.handleFoundCharacter,closeFoundCharacter:function(){c(!1)},foundIsCorrect:function(t){return O[0]<t.position[0]*e.windowWidth+30&&O[0]>t.position[0]*e.windowWidth-30&&O[1]<t.position[1]*(e.windowHeight-100)+30&&O[1]>t.position[1]*(e.windowHeight-100)-30},addFoundSquare:function(t,n){e.foundSquares;var a={position:"absolute",left:"".concat(t-30,"px"),top:"".concat(n-30,"px"),width:60,height:60,border:"4px solid red"},r=Object(j.jsx)("div",{style:a},t*n);e.setFoundSquares((function(e){return[e,r]}))},toggleShowWrongFind:y,checkGameOver:e.checkGameOver}),Object(j.jsx)(g,{showWrongFind:s,toggleShowWrongFind:y}),e.foundSquares]})},w=function(e){function t(e,t){return("00"+e).slice(-(t=t||2))}var n=e%1e3,a=(e=(e-n)/1e3)%60;return t((e=(e-a)/60)%60)+":"+t(a)+"."+t(n,3)},x=function(e){var t="0".concat(e%60).slice(-2),n="".concat(Math.floor(e/60)),a="0".concat(n%60).slice(-2);"0".concat(Math.floor(e/3600)).slice(-2);return" ".concat(a," : ").concat(t)},v=n(93),S=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(d.a)(o,2),s=(i[0],i[1]),l=Object(a.useRef)(null);Object(a.useEffect)((function(){e.player&&e.gameStartTime&&u()}),[e.player,e.gameStartTime]),Object(a.useEffect)((function(){e.gameTime||h()}),[e.gameTime]);var u=function(){s(!0),l.current=setInterval((function(){c((function(e){return e+1}))}),1e3)},h=function(){clearInterval(l.current),c(0),s(!1)};return Object(j.jsx)(v.a.Text,{children:Object(j.jsx)("h4",{style:{marginBottom:0,paddingRight:20},children:x(r)})})},y=n(89),k=n(92);var F=function(e){var t={height:"2.5em"};return Object(j.jsx)(v.a,{style:{height:"100px",width:"100%"},bg:"dark",variant:"dark",fixed:"top",children:Object(j.jsxs)(y.a,{children:[Object(j.jsx)(v.a.Brand,{className:"title",children:"Find Me!"}),Object(j.jsx)(k.a,{className:"me-auto",children:e.charactersArray&&e.charactersArray.map((function(e,n){return Object(j.jsx)(k.a.Link,{children:Object(j.jsx)(h.a,{style:t,src:"/where-is-waldo"+e.url})},n)}))}),Object(j.jsx)(S,{charactersArray:e.charractersArray,gameStartTime:e.gameStartTime,gameTime:e.gameTime,player:e.player})]})})},C=[{id:4,name:"Jake the dog",position:[.784,.513],url:"/images/jake_the_dog.png"},{id:0,name:"Mr.Peanutbuter",position:[.911,.191],url:"/images/mrpeanutbutter.png"},{id:1,name:"Ned Flanders",position:[.175,.341],url:"/images/ned_flanders.png"},{id:7,name:"Rick Sanchez",position:[.687,.895],url:"/images/rick_sanchez.png"},{id:5,name:"Waldo",position:[.284,.703],url:"/images/waldo.png"}],W=(n(83),n(91)),M=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],c=n[1];return Object(j.jsxs)(m.a,{show:e.showStartModal,size:"sm",backdrop:"static",keyboard:!1,centered:!0,children:[Object(j.jsx)(m.a.Header,{children:Object(j.jsxs)(m.a.Title,{children:["Welcome to ",Object(j.jsx)("strong",{children:"Find Me!"})]})}),Object(j.jsxs)(W.a,{onSubmit:function(t){e.toggleShowStartModal(),e.handleStartModalSubmit(t,r),e.startGame()},children:[Object(j.jsx)(m.a.Body,{children:Object(j.jsxs)(W.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(j.jsx)(W.a.Label,{className:"ps-1",children:"Enter your Nickname:"}),Object(j.jsx)(W.a.Control,{className:"my-2",placeholder:"Player1",onChange:function(e){return c(e.target.value)},value:r,required:!0}),Object(j.jsx)(W.a.Text,{className:"text-muted m-1  ",required:!0,children:"Your Nickname will be displayed on leaderboard"})]})}),Object(j.jsx)(m.a.Footer,{children:Object(j.jsx)(O.a,{type:"submit",variant:"primary",children:"Play"})})]}),Object(j.jsxs)("div",{className:"text-muted form-text ms-1",children:["Icon by"," ",Object(j.jsx)("a",{href:"https://www.flaticon.com/authors/dimitry-miroliubov",title:"Dimitry Miroliubov",children:"Dimitry Miroliubov"})," ","from"," ",Object(j.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"flaticon"})]}),Object(j.jsxs)("div",{className:"text-muted form-text m-1 mt-0",children:["Background by"," ",Object(j.jsx)("a",{href:"https://www.instagram.com/danielkeoghart/",title:"Daniel Keogh",children:"Daniel Keogh"})]})]})},T=n(70),A=n(25),N=Object(T.a)({apiKey:"AIzaSyAvQcbzXdQfFcp5j3LErFUWtHPik5Qfu38",authDomain:"where-is-waldo-fcfa2.firebaseapp.com",projectId:"where-is-waldo-fcfa2",storageBucket:"where-is-waldo-fcfa2.appspot.com",messagingSenderId:"318862658885",appId:"1:318862658885:web:cb2e2c6e6e4ab04f5ec22c"}),I=Object(A.e)(N),B=function(e){var t={display:"flex",justifyContent:"space-between"};return Object(j.jsxs)(m.a,{show:e.showGameOverModal,size:"sm",backdrop:"static",keyboard:!1,centered:!0,children:[Object(j.jsx)(m.a.Header,{children:Object(j.jsx)(m.a.Title,{children:"Leaderboard"})}),Object(j.jsxs)(m.a.Body,{children:[Object(j.jsx)(u.a,{children:Object(j.jsx)(u.a.Item,{children:Object(j.jsxs)("strong",{children:["Your time: ",w(e.gameTime)]})})}),Object(j.jsx)("br",{}),Object(j.jsx)(u.a,{children:e.resultsData.map((function(e,n){return Object(j.jsxs)(u.a.Item,{style:t,children:[Object(j.jsxs)("div",{children:[n+1,"."," ",e.playerName]}),Object(j.jsx)("div",{children:w(e.time)})]},n)}))})]}),Object(j.jsx)(m.a.Footer,{children:Object(j.jsx)(O.a,{variant:"primary",onClick:function(){e.toggleShowGameOverModal(),e.playAgain()},children:"Play Again"})})]})};var G=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(d.a)(c,2),i=o[0],u=o[1],h=Object(a.useState)(null),b=Object(d.a)(h,2),f=b[0],m=b[1],O=Object(a.useState)([]),g=Object(d.a)(O,2),w=g[0],x=g[1],v=Object(a.useState)([]),S=Object(d.a)(v,2),y=S[0],k=S[1],W=Object(a.useState)(null),T=Object(d.a)(W,2),N=T[0],G=T[1],E=Object(a.useState)(null),z=Object(d.a)(E,2),D=z[0],H=z[1],q=Object(a.useState)(null),L=Object(d.a)(q,2),P=L[0],Y=L[1],K=Object(a.useState)(null),R=Object(d.a)(K,2),U=R[0],_=R[1],J=Object(a.useState)(null),Q=Object(d.a)(J,2),X=Q[0],$=Q[1];Object(a.useEffect)((function(){m(C)}),[]),Object(a.useEffect)((function(){f&&ne()}),[f]);var V=function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.b)(Object(A.c)(I,"results"),{playerName:t,time:n});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=Object(A.c)(I,"results"),a=Object(A.h)(n,Object(A.g)("time"),Object(A.f)(10)),e.next=5,Object(A.d)(a);case 5:e.sent.forEach((function(e){t.push(e.data())})),k(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){r(!n)},te=function(){u(!i)},ne=function(){0===f.length&&(!function(){var e=A.a.now().toMillis()-U;$(e),V(N,e)}(),Z(),u(!0))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(M,{showStartModal:n,player:N,startGame:function(){var e=A.a.now().toMillis();_(e)},toggleShowStartModal:ee,handleStartModalSubmit:function(e,t){e.preventDefault(),G(t)}}),Object(j.jsx)(B,{gameTime:X,showGameOverModal:i,resultsData:y,toggleShowGameOverModal:te,playAgain:function(){m(C),u(!1),r(!0),$(null),_(null),x([])}}),Object(j.jsx)(F,{gameStartTime:U,gameTime:X,charactersArray:f,toggleShowStartModal:ee,toggleShowGameOverModal:te,player:N}),Object(j.jsx)(p,{charactersArray:f,windowWidth:D,windowHeight:P,characters:f,foundSquares:w,setFoundSquares:x,setWindowSize:function(){H(document.body.clientWidth),Y(document.body.clientHeight)},handleFoundCharacter:function(e){var t=e.id,n=f.filter((function(e){return e.id!==t}));m(n)},checkGameOver:ne})]})},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/where-is-waldo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/where-is-waldo","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):z(t,e)}))}}(),D()}},[[85,1,2]]]);
//# sourceMappingURL=main.ceea9170.chunk.js.map